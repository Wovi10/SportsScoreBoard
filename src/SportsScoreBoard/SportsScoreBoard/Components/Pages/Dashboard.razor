@page "/"
@using SportsScoreBoard.Components.Layout
@inject NavigationManager NavManager

<PageTitle>Dashboard</PageTitle>

<MudContainer Class="mt-16">
    <MudText Typo="Typo.h3" Align="Align.Center" GutterBottom="true">Sports</MudText>
    <MudGrid Class="mt-8">
        @foreach (var (sport, icon) in AllSportsDictionary)
        {
            <MudItem xs="12" sm="6" md="4">
                <MudCard Elevation="25" Class="rounded-lg pb-4 pointer-event" @onclick="() => GoTo(sport)" Style="cursor: pointer">
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h5" Align="Align.Center"><MudIcon Icon="@icon" Size="Size
                                                                                      .Large"/></MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                    <MudCardContent Class="mx-auto mt-4">
                        <MudText Align="Align.Center">@sport</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        }
    </MudGrid>
</MudContainer>

@code
{
    protected override void OnInitialized()
    {
        MainLayout.SubpageTitle = "";
    }

    private static readonly IDictionary<Models.Sports, string> AllSportsDictionary = new Dictionary<Models.Sports, string>
    {
        { Models.Sports.Volleyball, Icons.Material.Filled.SportsVolleyball },
        { Models.Sports.Handball, Icons.Material.Filled.SportsHandball }
    };
    private Task GoTo(Models.Sports sport)
    {
        NavManager.NavigateTo($"/{sport}");
        return Task.CompletedTask;
    }
}
