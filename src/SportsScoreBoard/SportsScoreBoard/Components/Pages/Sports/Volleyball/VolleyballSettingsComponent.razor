@using SportsScoreBoard.Components.Pages.Sports.Volleyball.SettingsComponents
@using SportsScoreBoard.Models.Volleyball
<MudExpansionPanel Class="flex-end" Expanded="true">
    <TitleContent>
        <MudText Typo="Typo.h4">Settings</MudText>
    </TitleContent>
    <ChildContent>
        <ResetButtons ResetGame="ResetGame"
                      ResetScore="ResetScore"
                      ResetSets="ResetSets"
                      ResetTimeouts="ResetTimeouts"
        />

        <ToggleButtons ToggleShowServing="ToggleShowServing"
                       ToggleShowSets="ToggleShowSets"
                       ToggleShowTimeouts="ToggleShowTimeouts"
                       ToggleShowPreviousSets="ToggleShowPreviousSets"
                       ToggleShowTeamNames="ToggleShowTeamNames"
                       ToggleManualScoring="ToggleManualScoring"
                       ToggleShowTimer="ToggleShowTimer"
        />

        <BestOfSelector Game="Game" BestOfValueChanged="BestOfValueChanged" />
    </ChildContent>
</MudExpansionPanel>

@code
{
    [Parameter] public required Action ResetGame { get; set; }
    [Parameter] public required Action ResetScore { get; set; }
    [Parameter] public required Action ResetSets { get; set; }
    [Parameter] public required Action ResetTimeouts { get; set; }
    [Parameter] public required Action ToggleShowServing { get; set; }
    [Parameter] public required Action ToggleShowSets { get; set; }
    [Parameter] public required Action ToggleShowTimeouts { get; set; }
    [Parameter] public required Action ToggleShowPreviousSets { get; set; }
    [Parameter] public required Action ToggleShowTeamNames { get; set; }
    [Parameter] public required Action ToggleManualScoring { get; set; }
    [Parameter] public required Action ToggleShowTimer { get; set; }
    [Parameter] public required Action<int> BestOfValueChanged { get; set; }
    [Parameter] public required VolleyballGame Game { get; set; }

    public void RefreshMe() 
        => StateHasChanged();
}
